<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lotte - Post Manager</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; 
            background: #f5f5f5; 
            color: #333;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        h1 { 
            text-align: center; 
            margin-bottom: 30px; 
            color: #e1306c;
            font-size: 24px;
        }
        
        .post-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .post-header {
            padding: 15px;
            background: #f8f8f8;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .post-date {
            font-weight: 600;
            font-size: 14px;
        }
        
        .post-trend {
            background: #e1306c;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
        }
        
        .image-container {
            max-width: 300px;
            margin: 20px auto;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .image-container img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: opacity 0.2s;
        }
        
        .btn:hover {
            opacity: 0.8;
        }
        
        .btn-instagram {
            background: #e1306c;
            color: white;
        }
        
        .btn-x {
            background: #000;
            color: white;
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 1px solid #eee;
        }
        
        .tab {
            flex: 1;
            padding: 15px;
            background: #f8f8f8;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            color: #666;
            transition: all 0.2s;
        }
        
        .tab.active {
            background: white;
            color: #e1306c;
            border-bottom: 2px solid #e1306c;
        }
        
        .tab-content {
            display: none;
            padding: 15px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .caption-box {
            background: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 12px;
            font-size: 14px;
            line-height: 1.5;
            white-space: pre-wrap;
            margin-bottom: 10px;
        }
        
        .copy-btn {
            background: #0095f6;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 13px;
            cursor: pointer;
            width: 100%;
        }
        
        .copy-btn:hover {
            background: #0077c2;
        }
        
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 100;
        }
        
        .toast.show {
            opacity: 1;
        }
    </style>
</head>
<body>
    <h1>üì∏ Lotte Post Manager</h1>
    
    <div id="posts"></div>
    
    <div class="toast" id="toast">Copied!</div>
    
    <script>
        const posts = [{
            date: '2026-02-07',
            trend: 'Saturday Night',
            image: 'https://res.cloudinary.com/dgum0iicx/image/upload/v1770492808/c72300j5tp8jqe2byrcq.jpg',
            instagram: `Saturday night with the girls üíïü•Ç

Living my best life ‚ú®

Who's coming out tonight? üëá

#SaturdayNight #GirlsNight #WeekendVures #NightOut`,
            fanvue: `Saturday night ready üòàüíã

You should have seen what happened 10 minutes later... üí¶

Let's just say the dress didn't stay on long üòè

And things only got more interesting from there üíã`,
        }];
        
        function showToast(msg) {
            const t = document.getElementById('toast');
            t.textContent = msg;
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 2000);
        }
        
        function copyText(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast('Copied to clipboard!');
            });
        }
        
        function openTab(postId, tabName) {
            // Hide all tabs for this post
            document.querySelectorAll(`#post-${postId} .tab-content`).forEach(t => t.classList.remove('active'));
            document.querySelectorAll(`#post-${postId} .tab`).forEach(t => t.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(`tab-${postId}-${tabName}`).classList.add('active');
            event.target.classList.add('active');
        }
        
        function postToX(caption, postId) {
            const encoded = encodeURIComponent(caption.substring(0, 280));
            window.open(`https://twitter.com/intent/tweet?text=${encoded}`, '_blank');
            // Auto-check as posted
            setTimeout(() => {
                document.getElementById(`posted-${postId}`).checked = true;
                togglePosted(postId);
            }, 1000);
        }
        
        function postToInstagram(caption, postId) {
            copyText(caption);
            window.open('https://instagram.com', '_blank');
            // Auto-check as posted
            setTimeout(() => {
                document.getElementById(`posted-${postId}`).checked = true;
                togglePosted(postId);
            }, 1000);
        }
        
        async function downloadImage(url, filename) {
            try {
                showToast('Downloading...');
                const response = await fetch(url);
                const blob = await response.blob();
                const blobUrl = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = blobUrl;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(blobUrl);
                showToast('Image saved!');
            } catch (e) {
                showToast('Download failed - try right-click save');
                window.open(url, '_blank');
            }
        }
        
        function togglePosted(postId) {
            const checkbox = document.getElementById(`posted-${postId}`);
            const isPosted = checkbox.checked;
            localStorage.setItem(`posted-${postId}`, isPosted);
            
            const card = document.getElementById(`post-${postId}`);
            if (isPosted) {
                card.style.opacity = '0.6';
                showToast('Marked as posted!');
            } else {
                card.style.opacity = '1';
            }
        }
        
        function loadPostedStatus() {
            posts.forEach((post, index) => {
                const isPosted = localStorage.getItem(`posted-${index}`) === 'true';
                if (isPosted) {
                    const checkbox = document.getElementById(`posted-${index}`);
                    if (checkbox) {
                        checkbox.checked = true;
                        document.getElementById(`post-${index}`).style.opacity = '0.6';
                    }
                }
            });
        }
        
        function renderPosts() {
            const container = document.getElementById('posts');
            container.innerHTML = posts.map((post, index) => `
                <div class="post-card" id="post-${index}">
                    <div class="post-header">
                        <span class="post-date">${post.date}</span>
                        <button onclick="downloadImage('${post.image}', 'lotte-${post.date}.jpg')" style="background: none; border: none; color: #0095f6; font-size: 12px; cursor: pointer; font-weight: 600;">üíæ Save</button>
                        <span class="post-trend">${post.trend}</span>
                    </div>
                    
                    <div class="image-container">
                        <img src="${post.image}" alt="${post.date}" onerror="this.src='https://via.placeholder.com/300x400?text=Image'">
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-instagram" onclick="postToInstagram(\`${post.instagram.replace(/`/g, '\\`')}\`, ${index})">üì∏ Post to Instagram</button>
                        <button class="btn btn-x" onclick="postToX(\`${post.instagram.replace(/`/g, '\\`')}\`, ${index})">ùïè Post to X</button>
                    </div>
                    
                    <div style="padding: 0 15px 15px;">
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; font-size: 14px;">
                            <input type="checkbox" id="posted-${index}" onchange="togglePosted(${index})" style="width: 18px; height: 18px;">
                            <span>Mark as posted</span>
                        </label>
                    </div>
                    
                    <div class="tabs">
                        <button class="tab active" onclick="openTab(${index}, 'instagram')">üì∏ Instagram Caption</button>
                        <button class="tab" onclick="openTab(${index}, 'fanvue')">üíã Fanvue Caption</button>
                    </div>
                    
                    <div id="tab-${index}-instagram" class="tab-content active">
                        <div class="caption-box">${post.instagram}</div>
                        <button class="copy-btn" onclick="copyText(\`${post.instagram.replace(/`/g, '\\`')}\`)">üìã Copy Instagram Caption</button>
                    </div>
                    
                    <div id="tab-${index}-fanvue" class="tab-content">
                        <div class="caption-box">${post.fanvue}</div>
                        <button class="copy-btn" onclick="copyText(\`${post.fanvue.replace(/`/g, '\\`')}\`)">üìã Copy Fanvue Caption</button>
                    </div>
                </div>
            `).join('');
        }
        
        renderPosts();
        
        // Load posted status after rendering
        setTimeout(loadPostedStatus, 100);
    </script>
</body>
</html>
